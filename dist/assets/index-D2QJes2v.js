import{r as a,j as t,c as b}from"./vendor-3DVn_WlK.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function n(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function c(e){if(e.ep)return;e.ep=!0;const s=n(e);fetch(e.href,s)}})();function j(){const[m,o]=a.useState([]),[n,c]=a.useState([]),[e,s]=a.useState([]),[l,d]=a.useState(!0),[f,h]=a.useState(null);a.useEffect(()=>{chrome.runtime.sendMessage({type:"GET_SHEET_DATA"},r=>{if(chrome.runtime.lastError){console.error(chrome.runtime.lastError),h("Failed to get sheet data"),d(!1);return}r!=null&&r.data?(o(r.data.columns||[]),c(r.data.rows||[]),s(r.data.ebayItemIds||[]),d(!1)):(h("No data found"),d(!1))})},[]);const x=r=>{const u=`https://www.ebay.com/sh/lst/active?keyword=${r.length>1?r.join(","):r[0]}&source=filterbar&action=search`;chrome.tabs.create({url:u})},g=()=>{e.length>0&&x(e)},p=()=>{g()};return l?t.jsx("div",{className:"flex items-center justify-center h-[600px] w-[400px] bg-gray-100",children:t.jsx("div",{className:"text-blue-500 text-lg font-semibold animate-pulse",children:"Loading..."})}):f?t.jsx("div",{className:"flex items-center justify-center h-[600px] w-[400px] bg-gray-100",children:t.jsx("div",{className:"text-red-500 text-lg font-semibold",children:f})}):t.jsxs("div",{className:"w-[400px] h-[400px] p-4 bg-gray-100 font-sans overflow-y-auto",children:[t.jsx("button",{onClick:p,className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 rounded mb-4",children:"Start eBay Search"}),t.jsx("h2",{className:"text-xl font-bold text-center mb-4 text-gray-800",children:"Google Sheets Data"}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full bg-white shadow rounded-lg overflow-hidden",children:[t.jsx("thead",{className:"bg-blue-500 text-white",children:t.jsx("tr",{children:m.map((r,i)=>t.jsx("th",{className:"py-2 px-3 text-left text-xs font-semibold uppercase tracking-wider",children:r},i))})}),t.jsx("tbody",{className:"divide-y divide-gray-200",children:n.map((r,i)=>t.jsx("tr",{className:"hover:bg-gray-100",children:r.map((u,y)=>t.jsx("td",{className:"py-2 px-3 text-sm text-gray-700",children:u},y))},i))})]})})]})}b.createRoot(document.getElementById("root")).render(t.jsx(a.StrictMode,{children:t.jsx(j,{})}));
